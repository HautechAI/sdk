import {
    AccessApi,
    AttachAccessControllerParamsDto,
    DetachAccessControllerParamsDto,
    GrantAccessControllerParams,
    ListAccessControllerDto,
    RevokeAccessControllerParamsDto,
} from '../../autogenerated';
import { SDKOptions } from '../../types';
import { useAutogeneratedAPI } from '../../api';

const resources = (options: SDKOptions) => {
    const api = useAutogeneratedAPI({ API: AccessApi, options });
    return {
        attach: async (props: AttachAccessControllerParamsDto & { id: string }): Promise<void> =>
            api.call({
                run: (methods) => methods.accessControllerAttachAccessV1(props.id, props),
            }),
        detach: async (props: DetachAccessControllerParamsDto & { id: string }): Promise<void> =>
            api.call({
                run: (methods) => methods.accessControllerDetachAccessV1(props.id, props),
            }),
        grant: async (props: GrantAccessControllerParams & { id: string }): Promise<void> =>
            api.call({
                run: (methods) => methods.accessControllerGrantAccessV1(props.id, props),
            }),
        revoke: async (props: RevokeAccessControllerParamsDto & { id: string }): Promise<void> =>
            api.call({
                run: (methods) => methods.accessControllerRevokeAccessV1(props.id, props),
            }),
        list: async (props: { id: string }): Promise<ListAccessControllerDto> =>
            api.call({
                run: (methods) => methods.accessControllerAccessV1(props.id),
            }),
    };
};

export default resources;
